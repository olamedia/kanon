<html>
<head>
<meta charset="utf-8" />
<link type="text/css" rel="stylesheet" href="style.css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeRDark.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shAutoloader.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPhp.js" type="text/javascript"></script>
<script type="text/javascript">
SyntaxHighlighter.all();
</script>
</head>
<body>
<div class="header" style="border-top: 1px solid #C9D7F1;margin: 9px;margin-top: 24px;padding-top: 5px;margin-bottom: 10px;">
    <a href="http://code.google.com/p/yuki/"><img src="http://code.google.com/p/yuki/logo?cct=1297980533" /></a>
    <div style="display: inline-block;padding-left: 11px;">
        <div class="project-name">
            <a style="text-decoration: none;color: #666;font-family: arial, sans-serif;font-size: 39px;" href="http://code.google.com/p/yuki/">yuki</a>
        </div>
        <div class="project-summary">
            <a href="http://code.google.com/p/yuki/" style="text-decoration: none;color: #444;font-family: arial, sans-serif;font-size: 13px;">Yuki PHP Framework</a>
        </div>
    </div>
</div>
<table width="100%"><tr><td width="200" valign="top">
<div class="sidebar"><ul><li class="package">yuki<ul><li class="subpackage">autoload<ul><li class="class"><a href="yAutoloader.html">yAutoloader</a></li><li class="class"><a href="yCoreAutoloader.html">yCoreAutoloader</a></li></ul></li><li class="subpackage">breadcrumb<ul><li class="class"><a href="yBreadCrumbSet.html">yBreadCrumbSet</a></li><li class="class"><a href="yBreadcrumb.html">yBreadcrumb</a></li></ul></li><li class="subpackage">debug<ul><li class="class"><a href="yDebugger.html">yDebugger</a></li></ul></li><li class="subpackage">file<ul><li class="class"><a href="yDirectory.html">yDirectory</a></li><li class="class"><a href="yFile.html">yFile</a></li><li class="class"><a href="yFileSystem.html">yFileSystem</a></li><li class="class"><a href="yLocalFileSystem.html">yLocalFileSystem</a></li><li class="class"><a href="yVirtualFileSystem.html">yVirtualFileSystem</a></li></ul></li><li class="subpackage">doc<ul><li class="class"><a href="yDocBlock.html">yDocBlock</a></li><li class="class"><a href="yDocumentor.html">yDocumentor</a></li><li class="class"><a href="yMethodDocumentor.html">yMethodDocumentor</a></li></ul></li><li class="subpackage">forms<ul><li class="class"><a href="yFileInput.html">yFileInput</a></li><li class="class"><a href="yFormControl.html">yFormControl</a></li><li class="class"><a href="yFormControlSet.html">yFormControlSet</a></li><li class="class"><a href="yFormResultIterator.html">yFormResultIterator</a></li><li class="class"><a href="yTextInput.html">yTextInput</a></li><li class="class"><a href="yValidatorException.html">yValidatorException</a></li></ul></li><li class="subpackage">html<ul><li class="class"><a href="yHeadTag.html">yHeadTag</a></li><li class="class"><a href="yHtmlAttribute.html">yHtmlAttribute</a></li><li class="class"><a href="yHtmlHelper.html">yHtmlHelper</a></li><li class="class"><a href="yHtmlTag.html">yHtmlTag</a></li><li class="class"><a href="yHtmlTagList.html">yHtmlTagList</a></li><li class="class"><a href="yMetaTag.html">yMetaTag</a></li><li class="class"><a href="yStyleTag.html">yStyleTag</a></li><li class="class"><a href="yTextNode.html">yTextNode</a></li></ul></li><li class="subpackage">uri<ul><li class="class"><a href="yUri.html">yUri</a></li><li class="class"><a href="yUriAuthority.html">yUriAuthority</a></li><li class="class"><a href="yUriFragment.html">yUriFragment</a></li><li class="class"><a href="yUriPath.html">yUriPath</a></li><li class="class"><a href="yUriQuery.html">yUriQuery</a></li><li class="class"><a href="yUriScheme.html">yUriScheme</a></li></ul></li></ul></li><li class="package">default</li></ul></div>            
</td><td valign="top">
            
<h1>yFormControlSet</h1>
<div><b>@package</b> yuki</div>
<div><b>@subpackage</b> forms</div>

<!-- Hierarhy -->

<h2>Introduction</h2>
yFormControlSet<br />



<h2>Method Summary</h2>
<div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method">yFormControl <a href="#method.getControl">getControl</a>(<span class="param">$name</span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.processKey">processKey</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.getValues">getValues</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.setLabel">setLabel</a>(<span class="param">$label</span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.getLabel">getLabel</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method">yFormControl <a href="#method.setPrefix">setPrefix</a>(<span class="param">$prefix</span>);</div><div style="font-size: 11px; margin-top: 1em;">Sets name prefix.</div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method">mixed <a href="#method.getPrefix">getPrefix</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;">Gets name prefix.</div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method">yFormControl <a href="#method.setKey">setKey</a>(<span class="param">$key</span>);</div><div style="font-size: 11px; margin-top: 1em;">Sets input key.</div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method">mixed <a href="#method.getKey">getKey</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;">Gets input key.</div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.getKeys">getKeys</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.process">process</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.getSectionHtml">getSectionHtml</a>(<span class="param">$key = </span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.getFormHtml">getFormHtml</a>(<span class="param">$key = </span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method"><a href="#method.__toString">__toString</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method">yFormResultIterator <a href="#method.getCurrentIterator">getCurrentIterator</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div><div class="summary" style="padding-bottom: 5px;margin-bottom: 5px;border-bottom: 1px solid #AAA;"><div class="method">yFormResultIterator <a href="#method.getIterator">getIterator</a>(<span class="param"></span>);</div><div style="font-size: 11px; margin-top: 1em;"></div></div>
<h2>Method Details</h2>
<div style="padding: 4px;border: solid 1px #666;"><a name="method.getControl"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method">yFormControl <a href="#method.getControl">getControl</a>(<span class="param">$name</span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div><b style="color: #683B00;">$name</b> (string) </div><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div><div><b>returns</b> yFormControl </div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getControl($name){
        if (!isset($this-&gt;_controls[$name])){
            // FIXME throw exception
            return;
        }
        if (is_array($this-&gt;_controls[$name])){
            $info = $this-&gt;_controls[$name];
            $class = $info['class'];
            $inputName = isset($info['name'])?$info['name']:$name;
            $control = new $class($inputName);
            $control-&gt;setPrefix($this-&gt;_prefix);
            $control-&gt;setKey($this-&gt;_key);
            if (isset($info['label'])){
                $control-&gt;setLabelText($info['label']);
            }
            if (isset($info['help'])){
                $control-&gt;setHelpText($info['help']);
            }
            if (isset($info['required'])){
                $control-&gt;setRequired(!!$info['required']);
            }
            if (isset($info['validator'])){
                $validators = $info['validator'];
                if (is_string($validators)){ // 'myValidator'
                    $control-&gt;addValidator(new $validators());
                }elseif (is_array($validators)){ // array(validator1, validator2)
                    foreach ($validators as $k=&gt;$v){
                        if (is_string($k) &amp;&amp; is_array($v)){ // array(... 'myValidator' =&gt; array(options) ...)
                            $validator = new $k($v);
                        }elseif (is_int($k) &amp;&amp; is_string($v)){
                            $validator = new $v(); // array(..., 'myValidator', ...)
                        }else{
                            continue; // skip anything else
                        }
                        $control-&gt;addValidator($validator);
                    }
                }
            }
            $this-&gt;_controls[$name] = $control;
        }
        return $this-&gt;_controls[$name];
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.processKey"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.processKey">processKey</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function processKey(){
        foreach ($this-&gt;_controls as $name=&gt;$c){
            $control = $this-&gt;getControl($name); // force convert to object
            $control-&gt;processKey();
        }
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getValues"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.getValues">getValues</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getValues(){
        $a = array();
        foreach ($this-&gt;_controls as $name=&gt;$c){
            $a[$name] = strval($this-&gt;getControl($name)-&gt;getValue());
        }
        return $a;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.setLabel"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.setLabel">setLabel</a>(<span class="param">$label</span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function setLabel($label){
        $this-&gt;_label = $label;
        return $this;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getLabel"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.getLabel">getLabel</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getLabel(){
        return $this-&gt;_label;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.setPrefix"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method">yFormControl <a href="#method.setPrefix">setPrefix</a>(<span class="param">$prefix</span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div><b style="color: #683B00;">$prefix</b> (string) Name prefix</div><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3>Sets name prefix.</h3></div></div><div><b>returns</b> yFormControl </div></div></div><h3>Source Code</h3><pre class="brush: php">    public function setPrefix($prefix){
        $this-&gt;_prefix = $prefix;
        foreach ($this-&gt;_controls as $c){
            if (is_object($c)){
                $c-&gt;setPrefix($prefix);
            }
        }
        return $this;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getPrefix"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method">mixed <a href="#method.getPrefix">getPrefix</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3>Gets name prefix.</h3></div></div><div><b>returns</b> mixed </div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getPrefix(){
        return $this-&gt;_prefix;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.setKey"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method">yFormControl <a href="#method.setKey">setKey</a>(<span class="param">$key</span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div><b style="color: #683B00;">$key</b> (mixed) Input key</div><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3>Sets input key.</h3></div></div><div><b>returns</b> yFormControl </div></div></div><h3>Source Code</h3><pre class="brush: php">    public function setKey($key){
        $this-&gt;_key = $key;
        foreach ($this-&gt;_controls as $c){
            if (is_object($c)){
                $c-&gt;setKey($key);
            }
        }
        return $this;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getKey"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method">mixed <a href="#method.getKey">getKey</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3>Gets input key.</h3></div></div><div><b>returns</b> mixed </div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getKey(){
        return $this-&gt;_key;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getKeys"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.getKeys">getKeys</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getKeys(){
        $keys = array();
        foreach ($this-&gt;_controls as $name=&gt;$c){
            $control = $this-&gt;getControl($name);
            $keys = array_merge($keys, $control-&gt;getKeys());
        }
        return array_unique($keys);
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.process"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.process">process</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function process(){
        foreach ($this-&gt;getKeys() as $key){
            $this-&gt;setKey($key);
            $this-&gt;processKey();
        }
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getSectionHtml"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.getSectionHtml">getSectionHtml</a>(<span class="param">$key = </span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getSectionHtml($key = null){
        $tpl = dirname(__FILE__).'/templates/'.$this-&gt;_layout.'.php';
        return include $tpl;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getFormHtml"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.getFormHtml">getFormHtml</a>(<span class="param">$key = </span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getFormHtml($key = null){
        $h = '&lt;form method=&quot;POST&quot; action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&gt;';
        $h .= $this-&gt;getSectionHtml($key);
        $h .= '&lt;/form&gt;';
        return $h;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.__toString"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method"><a href="#method.__toString">__toString</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div></div></div><h3>Source Code</h3><pre class="brush: php">    public function __toString(){
        return (string) $this-&gt;getFormHtml();
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getCurrentIterator"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method">yFormResultIterator <a href="#method.getCurrentIterator">getCurrentIterator</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div><div><b>returns</b> yFormResultIterator </div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getCurrentIterator(){
        return $this-&gt;_iterator;
    }
</pre></div><div style="padding: 4px;border: solid 1px #666;"><a name="method.getIterator"></a><div style="font-size: 11px;"><div class="classsynopsis"><div class="method">yFormResultIterator <a href="#method.getIterator">getIterator</a>(<span class="param"></span>);</div></div><div style="padding: 7px; margin-bottom: 2em; border: dashed 1px #eee; margin-tOP; 1em;"><div style="margin-top: 1em; margin-bottom: 1em;"><div><h3></h3></div></div><div><b>returns</b> yFormResultIterator </div></div></div><h3>Source Code</h3><pre class="brush: php">    public function getIterator(){
        $this-&gt;_iterator = new yFormResultIterator($this);
        return $this-&gt;_iterator;
    }
</pre></div>


<h2>Class synopsis</h2>
<div class="classsynopsis">
<b class="classname">yFormControlSet</b> implements IteratorAggregate, Traversable {
<div class="contents">
<h3>/* Properties */</h3>
<div class="property">protected <a href="#property._prefix">$_prefix</a>;</div><div class="property">protected <a href="#property._key">$_key</a>;</div><div class="property">protected <a href="#property._controls">$_controls</a>;</div><div class="property">protected <a href="#property._layout">$_layout</a>;</div><div class="property">protected <a href="#property._blockContainer">$_blockContainer</a>;</div><div class="property">protected <a href="#property._requiredTitle">$_requiredTitle</a>;</div><div class="property">protected <a href="#property._optionalTitle">$_optionalTitle</a>;</div><div class="property">protected <a href="#property._label">$_label</a>;</div><div class="property">protected <a href="#property._iterator">$_iterator</a>;</div>
<h3>/* Methods */</h3>
<div class="method">yFormControl <a href="#method.getControl">getControl</a>(<span class="param">$name</span>);</div><div class="method"><a href="#method.processKey">processKey</a>(<span class="param"></span>);</div><div class="method"><a href="#method.getValues">getValues</a>(<span class="param"></span>);</div><div class="method"><a href="#method.setLabel">setLabel</a>(<span class="param">$label</span>);</div><div class="method"><a href="#method.getLabel">getLabel</a>(<span class="param"></span>);</div><div class="method">yFormControl <a href="#method.setPrefix">setPrefix</a>(<span class="param">$prefix</span>);</div><div class="method">mixed <a href="#method.getPrefix">getPrefix</a>(<span class="param"></span>);</div><div class="method">yFormControl <a href="#method.setKey">setKey</a>(<span class="param">$key</span>);</div><div class="method">mixed <a href="#method.getKey">getKey</a>(<span class="param"></span>);</div><div class="method"><a href="#method.getKeys">getKeys</a>(<span class="param"></span>);</div><div class="method"><a href="#method.process">process</a>(<span class="param"></span>);</div><div class="method"><a href="#method.getSectionHtml">getSectionHtml</a>(<span class="param">$key = </span>);</div><div class="method"><a href="#method.getFormHtml">getFormHtml</a>(<span class="param">$key = </span>);</div><div class="method"><a href="#method.__toString">__toString</a>(<span class="param"></span>);</div><div class="method">yFormResultIterator <a href="#method.getCurrentIterator">getCurrentIterator</a>(<span class="param"></span>);</div><div class="method">yFormResultIterator <a href="#method.getIterator">getIterator</a>(<span class="param"></span>);</div>
</div>
}
</div>


</td></tr></table>
</body>
</html>